
* Need Common KeyValueObjectEncoding
    - Server uses it to parse and encode data for commit (currently missing this)
    - Client uses it to parse content coming from stores

* OpportunisitcRebuildManager

Need:
    - TestNetwork
    - Client Side
        - Minimal AmoebaClient
        - Start with Allocation
        - Use concrete classes unless variation is really needed
        - Read Objects
        - TransactionBuilder
            - Allocate objects
            - provide access to owning System

FIXME - Sweeper impl can only handle 1 allocation per transaction. Major changes needed to fix this.
FiXME   Will need to include the ObjectId into the TxId


* Port the flatbuffers encoding.

* Use encoding for TXD on recovery only
    |-> CRL always uses serialized variant (no need to ever use the content, keep serialized)
    |-> Simplifies testing too

* When pruning, add all pruned Tx/Alloc to a separate list
* Then on loop, pull all items from this list before looking at the new items from the concurrent queue
** Allows for easy interleaving between streams and eliminates file size problems